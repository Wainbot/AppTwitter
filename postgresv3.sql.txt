CREATE DATABASE TWITTER;

CREATE TABLE UTILISATEUR(
   ID SERIAL PRIMARY KEY     NOT NULL,
   NOM           TEXT    NOT NULL,
   PRENOM            TEXT     NOT NULL,
   VILLE        CHAR(50),
EMAIL         TEXT	NOT NULL,
IMG_PROFIL         TEXT,
PASSWORD		TEXT NOT NULL,
DATE_CREATION		TIMESTAMP,
   AMIS            TEXT);

INSERT INTO UTILISATEUR(NOM,PRENOM,VILLE,EMAIL,IMG_PROFIL,PASSWORD,DATE_CREATION,AMIS)  VALUES('DUPOND','PAUL','NICE','paul@mail.fr','lien','paul',NOW(),'');
INSERT INTO UTILISATEUR(NOM,PRENOM,VILLE,EMAIL,IMG_PROFIL,PASSWORD,DATE_CREATION,AMIS)  VALUES('DUPOND','Jeremie','NICE','je@mail.fr','lien','je',NOW(),'');
INSERT INTO UTILISATEUR(NOM,PRENOM,VILLE,EMAIL,IMG_PROFIL,PASSWORD,DATE_CREATION,AMIS)   VALUES('DUPOND','Roger','NICE','roge@mail.fr','lien','roger',NOW(),'');

CREATE TABLE TWEET(
   ID SERIAL PRIMARY KEY,
   DESCRIPTION            TEXT     NOT NULL,
   MEDIA         TEXT,
   ID_UTILISATEUR            INT	NOT NULL,
   NB_LIKE         INT,
   HEURE_PUBLICATION         TIMESTAMP	
);

INSERT INTO TWEET (DESCRIPTION,MEDIA,ID_UTILISATEUR,NB_LIKE,HEURE_PUBLICATION) VALUES ('Marre des gens...','lien',1,3,NOW());
INSERT INTO TWEET (DESCRIPTION,MEDIA,ID_UTILISATEUR,NB_LIKE,HEURE_PUBLICATION) VALUES ('Marre des gens...','lien',2,20,NOW());
INSERT INTO TWEET (DESCRIPTION,MEDIA,ID_UTILISATEUR,NB_LIKE,HEURE_PUBLICATION) VALUES ('Marre des gens...','lien',4,0,NOW());

CREATE TABLE CONVERSATION(
   ID SERIAL PRIMARY KEY,
   ID_UTILISATEUR            INT	NOT NULL,
   HEURE_LANCE_CONV         DATE	
);

INSERT INTO CONVERSATION (ID_UTILISATEUR, HEURE_LANCE_CONV) VALUES (1,NOW());

CREATE TABLE MESSAGE(
   ID SERIAL PRIMARY KEY,
   ID_CONVERSATION            INT	NOT NULL,
   ID_UTILISATEUR            INT	NOT NULL,
   MESSAGE		TEXT  		NOT NULL,
   MEDIA		TEXT  		NOT NULL,		
   HEURE_MESSAGE          TIMESTAMP	
);

INSERT INTO MESSAGE(ID_CONVERSATION,ID_UTILISATEUR,MESSAGE,MEDIA,HEURE_MESSAGE) VALUES (1,1,'lol','lien',NOW());
